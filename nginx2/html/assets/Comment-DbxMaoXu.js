import{a as y}from"./index-BgbCg4-D.js";import{r as c,E as h,d as F,c as k,w as l,a as d,o as u,b as a,u as o,i as p,g,h as T,F as q,e as m,s as V,t as L,x as M}from"./index-DhBAbreQ.js";import{_ as R}from"./Page.vue_vue_type_script_setup_true_lang-juzETF4l.js";import"./user-DyNFqZc8.js";const _=c({content:"",pageNum:"",pageSize:""}),j=[{prop:"id",label:"id",width:"180"},{prop:"title",label:"博客",width:"150"},{prop:"content",label:"评论内容",width:"150"},{prop:"username",label:"评论人",width:"150"},{prop:"children",label:"回复数",width:"180"},{prop:"createTime",label:"创建时间",width:"150"},{prop:"action",label:"操作",width:"180",fixed:"right"}],x=c([]),N=c(1),v=c(!1),r=()=>{y.get("/comment-service/comment/page",{params:_.value}).then(t=>{t.data.isSuccess?(x.value=t.data.content.rows,N.value=t.data.content.total):h.error(t.data.message)})},S=c(""),C=()=>{v.value=!0,y.delete(`/comment-service/comment/${S.value}`).then(t=>{t.data.isSuccess?(v.value=!1,h.success("删除成功"),n.value=!1,r()):(h.error(t.data.message),v.value=!1,n.value=!1)})},n=c(!1),A=t=>{S.value=t,n.value=!0},G=t=>{_.value.pageNum=t,r()},H=t=>{_.value.pageSize=t,r()},J={key:0},K={key:1},O={key:2},Q=m("span",null," 确定删除该记录吗 ",-1),W={class:"dialog-footer"},X=m("span",null," 确定删除该记录吗 ",-1),Y={class:"dialog-footer"},oe=F({__name:"Comment",setup(t){return r(),(Z,s)=>{const P=d("el-input"),z=d("el-col"),i=d("el-button"),B=d("el-row"),D=d("el-switch"),U=d("el-table-column"),$=d("el-table"),w=d("el-dialog"),I=d("el-card");return u(),k(I,null,{default:l(()=>[a(B,{gutter:20},{default:l(()=>[a(z,{span:7},{default:l(()=>[a(P,{placeholder:"搜索框",clearable:"",modelValue:o(_).content,"onUpdate:modelValue":s[0]||(s[0]=e=>o(_).content=e),onInput:o(r)},null,8,["modelValue","onInput"])]),_:1}),a(i,{type:"primary",icon:"Search",onClick:o(r)},{default:l(()=>[p(" 搜索 ")]),_:1},8,["onClick"])]),_:1}),a($,{data:o(x),stripe:"",style:{width:"100%","margin-top":"30px"}},{default:l(()=>[(u(!0),g(q,null,T(o(j),(e,E)=>(u(),k(U,{key:E,prop:e.prop,label:e.label,width:e.width,fixed:e.fixed},{default:l(f=>[e.prop==="action"?(u(),g("div",J,[a(i,{type:"danger",icon:"Delete",circle:"",onClick:b=>o(A)(f.row.id)},null,8,["onClick"])])):e.prop==="status"?(u(),g("div",K,[a(D,{modelValue:f.row.status,"onUpdate:modelValue":b=>f.row.status=b,"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue"])])):e.prop==="gender"?(u(),g("div",O,[m("span",null,L(f.row.gender==="0"?"男":"女"),1)])):M("",!0)]),_:2},1032,["prop","label","width","fixed"]))),128))]),_:1},8,["data"]),a(w,{modelValue:o(n),"onUpdate:modelValue":s[2]||(s[2]=e=>V(n)?n.value=e:null),title:"警告",width:"500","align-center":""},{footer:l(()=>[m("div",W,[a(i,{onClick:s[1]||(s[1]=e=>n.value=!1)},{default:l(()=>[p("取消")]),_:1}),a(i,{type:"danger",onClick:o(C)},{default:l(()=>[p(" 删除 ")]),_:1},8,["onClick"])])]),default:l(()=>[Q]),_:1},8,["modelValue"]),a(w,{modelValue:o(n),"onUpdate:modelValue":s[4]||(s[4]=e=>V(n)?n.value=e:null),title:"警告",width:"500","align-center":""},{footer:l(()=>[m("div",Y,[a(i,{onClick:s[3]||(s[3]=e=>n.value=!1)},{default:l(()=>[p("取消")]),_:1}),a(i,{type:"danger",onClick:o(C)},{default:l(()=>[p(" 删除 ")]),_:1},8,["onClick"])])]),default:l(()=>[X]),_:1},8,["modelValue"]),a(R,{total:o(N),handlePageNum:o(G),handlePageSize:o(H)},null,8,["total","handlePageNum","handlePageSize"])]),_:1})}}});export{oe as default};
